<div class="profile-details-container">
  <div class="cover-photo-container">
    <input type="file" #coverImagePicker (change)="onImagePicked($event, true)" />

    <div class="edit-cover-photo-btn" (click)="coverImagePicker.click()">
      <i class="fa fa-edit"></i>
      &nbsp;Edit Cover Picture
    </div>

    <img
      class="cover-photo"
      [src]="coverImagePreview"
      onerror="this.src='../../../../assets/images/user.png'"
    />

    <div class="profile-image">
      <div class="edit-img-container">
        <input type="file" #profileImagePicker (change)="onImagePicked($event, false)" />

        <img [src]="profileImagePreview" onerror="this.src='../../../../assets/images/user.png'" />

        <div class="edit-image-icon" (click)="profileImagePicker.click()">
          <i class="fa fa-camera" aria-hidden="true"></i>
        </div>
      </div>
    </div>

    <div class="profile-name">{{ userProfile.name | capitalizeEachWord }}</div>
  </div>

  <div class="edit-profile-btn float-right">
    <button mat-raised-button color="primary" class="semi-rounded-btn" (click)="editProfile()">
      <i class="fa fa-edit"></i>
      <span class="edit-profile-text">&nbsp;Edit Profile</span>
    </button>
  </div>

  <div class="profile-info-container">
    <div class="row">
      <div class="col-md-5">
        <mat-card class="user-info-card">
          <mat-card-header>
            <mat-card-title>
              <span class="header-title">About Me</span>
              <span class="float-right pointer">
                <i class="fa fa-edit" *ngIf="!storyEdit" (click)="editStory()"></i>
                <i class="fa fa-save" *ngIf="storyEdit" (click)="saveStory()"></i>
              </span>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-form-field class="edit-profile-story" *ngIf="storyEdit">
              <textarea rows="4" maxlength="500" matInput [(ngModel)]="story"></textarea>
            </mat-form-field>
            <p *ngIf="!storyEdit" class="profile-info">
              {{ userProfile.story }} Lorem Ipsum is simply dummy text of the printing and
              typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever
              since the 1500s, when an unknown printer took a galley of type and scrambled it to
              make a type specimen book. It has survived not only five centuries, but also the leap
              into electronic typesetting, remaining essentially unchanged. It was popularised in
              the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and
              more recently with desktop publishing software like Aldus PageMaker including versions
              of Lorem Ipsum.
            </p>
          </mat-card-content>
        </mat-card>

        <mat-card class="user-info-card">
          <mat-card-header>
            <mat-card-title>
              <span class="header-title">Photos</span>
              <span class="float-right">
                <div class="header-btn">See All</div>
              </span>
            </mat-card-title>
          </mat-card-header>

          <mat-card-content>
            <div class="row">
              <div class="col-12">
                <div class="photos-container">
                  <div class="photo-box">
                    <img class="photo" src="https://picsum.photos/200" />
                  </div>

                  <div class="photo-box">
                    <img class="photo" src="https://picsum.photos/200" />
                  </div>

                  <div class="photo-box">
                    <img class="photo" src="https://picsum.photos/200" />
                  </div>

                  <div class="photo-box">
                    <img class="photo" src="https://picsum.photos/200" />
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>

        <mat-card class="user-info-card">
          <mat-card-header>
            <mat-card-title>
              <span class="header-title">{{ followers.length }} Followers</span>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content
            ><div class="row" *ngIf="followers.length > 0; else noFollowers">
              <div class="col-12">
                <div class="friend-mini-card" *ngFor="let follower of followers; let i = index">
                  <img class="friend-mini-photo" [src]="follower.userImageURL" />
                  <div class="friend-mini-details">
                    <div
                      class="friend-mini-name pointer"
                      (click)="viewProfile(follower.sportizenId)"
                    >
                      {{ follower.name | capitalizeEachWord }}
                    </div>
                    <div class="friend-mini-mutual-info">
                      {{ follower.mutuleConnections ? follower.mutuleConnections : 0 }} Mutual
                      Friends
                    </div>
                    <div class="friend-mini-btn">Unfollow</div>
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>

        <mat-card class="user-info-card">
          <mat-card-header>
            <mat-card-title>
              <span class="header-title">{{ followings.length }} Followings</span>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content
            ><div class="row" *ngIf="followings.length > 0; else noFollowings">
              <div class="col-12">
                <div class="friend-mini-card" *ngFor="let following of followings; let i = index">
                  <img class="friend-mini-photo" [src]="following.userImageURL" />
                  <div class="friend-mini-details">
                    <div
                      class="friend-mini-name pointer"
                      (click)="viewProfile(following.sportizenId)"
                    >
                      {{ following.name | capitalizeEachWord }}
                    </div>
                    <div class="friend-mini-mutual-info">
                      {{ following.mutuleConnections ? following.mutuleConnections : 0 }} Mutual
                      Friends
                    </div>
                    <div class="friend-mini-btn">Remove</div>
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>

      <div class="col-md-7">
        <div class="my-posts">
          <app-dashboard-feed [isMyFeed]="true"></app-dashboard-feed>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <app-image-croper
  *ngIf="profilePicCropping"
  [image]="imagePreview"
  (close)="closeImageCropping()"
  (crop)="saveCroppedProfileImage($event)"
  [customSavedBtnName]="'Save'"
>
</app-image-croper>

<app-image-croper
  *ngIf="coverPicCropping"
  [image]="imagePreview"
  (close)="closeImageCropping()"
  (crop)="saveCroppedCoverImage($event)"
  [customAspectRatio]="3"
  [customSavedBtnName]="'Save'"
>
</app-image-croper> -->

<ng-template #noFollowers>
  <div class="row">
    <div class="col-12">
      <p class="text-center">No Followers</p>
    </div>
  </div>
</ng-template>

<ng-template #noFollowings>
  <div class="row">
    <div class="col-12">
      <p class="text-center">No Followings</p>
    </div>
  </div>
</ng-template>
